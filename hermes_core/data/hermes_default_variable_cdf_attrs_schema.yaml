# Based on :  https://spdf.gsfc.nasa.gov/istp_guide/vattributes.html
#             HERMES CDF Format Guide
# Check Types: The key 'check' for any attribute can be followed by the
# the method by whick the attribute should be checked during vaildation. 
#   valid_values: 
#     contains a list of `string` values which the attibute can take. 
#   conditional_data_type:
#     contains a nested list of lists, where each outer list element is
#       a 2-element list of key-value pairs. The Key being the data type
#       of the variable and the value being the resultant value based on
#       the conditional data type.
#   conditional_si_units:
#       TODO
attribute_key:
  # ===== EPOCH-ONLY VARIABLE ATTRIBUTES =====
  TIME_BASE:
    derived: true
    required: true    # NOT Required in ISTP Guide
  RESOLUTION:
    derived: true
    required: true    # NOT Required in ISTP Guide
  TIME_SCALE:
    derived: true
    required: true    # NOT Required in ISTP Guide
  REFERENCE_POSITION:
    derived: true
    required: true    # NOT Required in ISTP Guide
  LEAP_SECONDS_INCLUDED:
    derived: false
    required: false   # NOT Required in ISTP Guide
  ABSOLUTE_ERROR:
    derived: false
    required: false   # NOT Required in ISTP Guide
  RELATIVE_ERROR:
    derived: false
    required: false   # NOT Required in ISTP Guide
  BIN_LOCATION:
    derived: false
    required: false   # NOT Required in ISTP Guide
  # ===== DATA VARIABLE ATTRIBUTES =====
  CATDESC:
    derived: false
    required: true
  DEPEND_0:
    derived: true
    required: true
  DEPEND_i:         # For i'th dimensional data variables
    derived: false
    required: false
  DISPLAY_TYPE:
    derived: false
    required: true
    valid_values:
      time_series
      spectrogram
      stack_plot
      image
  FIELDNAM:
    derived: true
    required: true
  FILLVAL:
    derived: true
    required: true
  FORMAT:           # NOTE Only one of FORMAT or FORM_PTR should be present
    derived: true
    required: true
  FORM_PTR:
    derived: false
    required: false
  LABLAXIS:          # NOTE Only one of LABLAXIS or LABL_PTR_i should be present
    derived: false
    required: true
  LABL_PTR_i:
    derived: false
    required: false
  SI_CONVERSION:
    derived: true
    required: true  # NOT Required in ISTP Guide
    check:
      conditional_si_units: null
  UNITS:            # NOTE Only one of UNITS or UNIT_PTR should be present
    derived: true
    required: true
  UNIT_PTR:
    derived: false
    required: false
  VALIDMIN:
    derived: true
    required: true
  VALIDMAX:
    derived: true
    required: true
  VAR_TYPE:
    derived: false
    required: true
    valid_values:
        data
        support_data
        metadata
        ignore_data
  COORDINATE_SYSTEM:
    derived: false
    required: false   # NOT Required in HERMES Format Guide
  TENSOR_ORDER:
    derived: false
    required: false   # NOT Required in HERMES Format Guide
  REPRESENTATION_i:
    derived: false
    required: false   # NOT Required in HERMES Format Guide
  OPERATOR_TYPE:
    derived: false
    required: false   # NOT Required in HERMES Format Guide
time_series:
  - TIME_BASE
  - RESOLUTION
  - TIME_SCALE
  - REFERENCE_POSITION
  - LEAP_SECONDS_INCLUDED
  - ABSOLUTE_ERROR
  - RELATIVE_ERROR
  - BIN_LOCATION
  - VAR_TYPE
data:
  - CATDESC
  - DEPEND_0
  # - DEPEND_i # [for dimensional data variables]
  - DISPLAY_TYPE
  - FIELDNAM
  - FILLVAL
  - FORMAT
  # - FORM_PTR
  - LABLAXIS
  # - LABL_PTR_i
  - SI_CONVERSION
  - UNITS
  # - UNIT_PTR
  - VALIDMIN
  - VALIDMAX
  - VAR_TYPE 
support_data:
  - CATDESC
  - DEPEND_0
  # - DEPEND_i
  - FIELDNAM
  - FILLVAL
  - FORMAT
  # - FORM_PTR
  - SI_CONVERSION
  - UNITS
  # - UNIT_PTR
  - VALIDMIN
  - VALIDMAX
  - VAR_TYPE
metadata:
  - CATDESC
  - DEPEND_0
  # - DEPEND_i
  - FIELDNAM
  - FILLVAL
  - FORMAT
  # - FORM_PTR
  - SI_CONVERSION
  - VAR_TYPE
